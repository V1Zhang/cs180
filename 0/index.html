<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS180 Proj0 · Becoming Friends with Your Camera</title>
  <!-- 如果你的站点发布在 /cs180 子路径，打开下一行可全局修正绝对路径
  <base href="/cs180/">
  -->
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>
  <header class="hero">
    <div class="hero__inner">
      <h1>CS180 Proj0 · Becoming Friends with Your Camera</h1>
      <p>Exploring perspective, focal length/zoom, and the center of projection with real captures.</p>
      <div class="meta">Sep 2, 2025 · Weiyi Zhang</div>

      <nav class="tabs" aria-label="Sections">
        <a class="tab" href="#part1">Part 1 · Selfie</a>
        <a class="tab" href="#part2">Part 2 · Architecture</a>
        <a class="tab" href="#part3">Part 3 · Dolly Zoom</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <!-- Part 1 -->
    <section id="part1" class="card">
      <h2>Part 1 · Selfie: Wrong vs. Right</h2>
      <p class="sub">
        Close portrait comparison: stand close vs. step back and zoom in. Keep the face roughly the same size; compare distortion.
      </p>

      <div class="grid">
        <div class="col-6">
            <figure>
              <img src="./media/close_up_selfie.jpg" 
                   alt="Close-up selfie (wide, distorted)" 
                   data-lightbox 
                   class="img-fixed">
              <figcaption><strong>Close-up (Wrong Way)</strong> · 
                Wide angle exaggerates facial features (big nose, edge stretch).
              </figcaption>
            </figure>
          </div>
          
          <div class="col-6">
            <figure>
              <img src="./media/zoomed_in_selfie.jpg" 
                   alt="Back up + zoom (more natural proportions)" 
                   data-lightbox 
                   class="img-fixed">
              <figcaption><strong>Back up + Zoom (Right Way)</strong> · 
                Longer focal length reduces perspective distortion.
              </figcaption>
            </figure>
          </div>
          
        <div class="col-12">
          <div class="note">
            <strong>With greater camera-subject distance, rays are more parallel at the sensor.</strong> 
          </div>
        </div>
      </div>
    </section>

    <!-- Part 2 -->
    <section id="part2" class="card">
      <h2>Part 2 · Architectural Perspective Compression</h2>
      <p class="sub">
        Shoot a long street/path scene. First: from afar with zoom (looks flattened). Second: walk forward, no zoom (stronger depth).
      </p>

      <div class="grid">
        <div class="col-6">
            <figure class="figure-medium">
              <img src="./media/zoomed_in_street.jpg" 
                   alt="Zoomed-in distant view (compressed perspective)" 
                   data-lightbox
                   class="img-fixed">
              <figcaption><strong>Zoomed from Distance</strong> · 
                Background and foreground appear closer (compression).
              </figcaption>
            </figure>
          </div>
          
          <div class="col-6">
            <figure class="figure-medium">
              <img src="./media/walked_down_street.jpg" 
                   alt="Walked closer with wide view (strong depth cues)" 
                   data-lightbox
                   class="img-fixed">
              <figcaption><strong>Walked Forward, No Zoom</strong> · 
                Converging lines & size change amplify depth.
              </figcaption>
            </figure>
          </div>
          

        <div class="col-12">
          <div class="note">
            <strong>Why “compression”? -- Changing the vantage point alters relative sizes of near/far objects projected onto the sensor. Zoom then selects a narrower FoV.</strong>
          </div>
        </div>
      </div>
    </section>

    <!-- Part 3 -->
    <section id="part3" class="card">
      <h2>Part 3 · The Dolly Zoom</h2>
      <p class="sub">
        Move the camera backward while zooming in to keep the subject size constant; background stretches or collapses.
      </p>

      <!-- ✅ 修正：补上 .grid 容器，并缩小 GIF 显示框 -->
      <div class="grid">
        <div class="col-12">
          <figure class="figure-narrow">
            <img src="./media/dolly_zoom_animation.gif"
                 alt="Dolly zoom animated GIF"
                 data-lightbox
                 class="img-sm">
            <figcaption>Animated GIF</figcaption>
          </figure>
        </div>
      </div>
    </section>

    <div class="footer">
      Project by <a href="https://github.com/V1Zhang" target="_blank">V1Zhang</a> ·
      Source: <a href="https://github.com/V1Zhang/cs180" target="_blank">/V1Zhang/cs180</a>
    </div>
  </main>

  <!-- 轻量灯箱 -->
  <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog">
    <img alt="" id="lb-img" style="display:none">
    <video id="lb-video" style="display:none" controls></video>
  </div>

  <script>
    // 简易灯箱逻辑：点击任何带 data-lightbox 的 img 或 GIF/视频占位图，放大预览
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lb-img');
    const lbVideo = document.getElementById('lb-video');

    function openLightbox(el){
      const isVideo = el.tagName.toLowerCase() === 'video' || (el.src && el.src.endsWith('.mp4'));
      lb.classList.add('open');
      if(isVideo){
        lbVideo.src = el.src; lbVideo.style.display='block'; lbImg.style.display='none';
      }else{
        lbImg.src = el.src; lbImg.alt = el.alt || ''; lbImg.style.display='block'; lbVideo.style.display='none';
      }
      lb.setAttribute('aria-hidden','false');
    }
    function closeLightbox(){
      lb.classList.remove('open');
      lbImg.src=''; lbVideo.pause(); lbVideo.removeAttribute('src');
      lb.setAttribute('aria-hidden','true');
    }
    document.addEventListener('click', e=>{
      const t = e.target;
      if(t.matches('[data-lightbox]')){ openLightbox(t); }
      else if(t.id==='lightbox'){ closeLightbox(); }
    });
    document.addEventListener('keydown', e=>{
      if(e.key==='Escape' && lb.classList.contains('open')) closeLightbox();
    });
  </script>
</body>
</html>
